{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/stavansagala/Downloads/MadHacks%202025/src/lib/storage.ts"],"sourcesContent":["// Utility functions for storing and retrieving video analysis data\n// For MVP, we'll use localStorage\n\nexport interface VideoAnalysis {\n  id: string;\n  filename: string;\n  timestamp: string;\n  severity: 'High' | 'Medium' | 'Low' | 'None';\n  description: string;\n  recommendations: string;\n  confidence: number;\n  fileSize: number;\n  videoType: string;\n  videoUrl?: string; // For storing the video file\n}\n\nconst STORAGE_KEY = 'hawkwatch_analyses';\n\nexport function saveAnalysis(analysis: VideoAnalysis): void {\n  if (typeof window === 'undefined') return;\n  \n  const existing = getAllAnalyses();\n  existing.push(analysis);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(existing));\n}\n\nexport function getAllAnalyses(): VideoAnalysis[] {\n  if (typeof window === 'undefined') return [];\n  \n  const stored = localStorage.getItem(STORAGE_KEY);\n  return stored ? JSON.parse(stored) : [];\n}\n\nexport function getAnalysisById(id: string): VideoAnalysis | null {\n  const analyses = getAllAnalyses();\n  return analyses.find(a => a.id === id) || null;\n}\n\nexport function deleteAnalysis(id: string): void {\n  if (typeof window === 'undefined') return;\n  \n  const analyses = getAllAnalyses().filter(a => a.id !== id);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(analyses));\n}\n\nexport function generateId(): string {\n  return `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n}\n\n"],"names":[],"mappings":"AAAA,mEAAmE;AACnE,kCAAkC;;;;;;;;;;;;;AAelC,MAAM,cAAc;AAEb,SAAS,aAAa,QAAuB;IAClD,wCAAmC;;;IAEnC,MAAM;AAGR;AAEO,SAAS;IACd,wCAAmC,OAAO,EAAE;;;IAE5C,MAAM;AAER;AAEO,SAAS,gBAAgB,EAAU;IACxC,MAAM,WAAW;IACjB,OAAO,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,OAAO;AAC5C;AAEO,SAAS,eAAe,EAAU;IACvC,wCAAmC;;;IAEnC,MAAM;AAER;AAEO,SAAS;IACd,OAAO,GAAG,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;AACnE"}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///Users/stavansagala/Downloads/MadHacks%202025/src/app/library/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { getAllAnalyses, deleteAnalysis } from '@/lib/storage';\nimport type { VideoAnalysis } from '@/lib/storage';\n\nexport default function Library() {\n  const [analyses, setAnalyses] = useState<VideoAnalysis[]>([]);\n  const [selectedAnalysis, setSelectedAnalysis] = useState<VideoAnalysis | null>(null);\n  const [filter, setFilter] = useState<'All' | 'High' | 'Medium' | 'Low' | 'None'>('All');\n\n  useEffect(() => {\n    loadAnalyses();\n  }, []);\n\n  const loadAnalyses = () => {\n    const all = getAllAnalyses();\n    // Sort by timestamp, newest first\n    all.sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime());\n    setAnalyses(all);\n  };\n\n  const handleDelete = (id: string) => {\n    if (confirm('Are you sure you want to delete this analysis?')) {\n      deleteAnalysis(id);\n      loadAnalyses();\n      if (selectedAnalysis?.id === id) {\n        setSelectedAnalysis(null);\n      }\n    }\n  };\n\n  const filteredAnalyses = filter === 'All' \n    ? analyses \n    : analyses.filter(a => a.severity === filter);\n\n  const getSeverityColor = (severity: string) => {\n    switch (severity) {\n      case 'High': return 'bg-red-500';\n      case 'Medium': return 'bg-yellow-500';\n      case 'Low': return 'bg-blue-500';\n      default: return 'bg-gray-500';\n    }\n  };\n\n  const formatDate = (timestamp: string) => {\n    return new Date(timestamp).toLocaleString();\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white\">\n      {/* Navigation */}\n      <nav className=\"border-b border-gray-700 bg-gray-800/50 backdrop-blur-sm\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            <div className=\"flex items-center space-x-8\">\n              <Link href=\"/\" className=\"text-2xl font-bold bg-gradient-to-r from-blue-400 to-cyan-300 bg-clip-text text-transparent\">\n                ðŸ¦… HawkWatch\n              </Link>\n              <div className=\"flex space-x-4\">\n                <Link href=\"/\" className=\"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">\n                  Dashboard\n                </Link>\n                <Link href=\"/library\" className=\"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium border-b-2 border-blue-500\">\n                  Library\n                </Link>\n                <Link href=\"/statistics\" className=\"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">\n                  Statistics\n                </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </nav>\n\n      {/* Main Content */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-4xl font-bold mb-2\">Video Library</h1>\n          <p className=\"text-gray-400\">Browse all analyzed video footage and security reports</p>\n        </div>\n\n        {/* Filter */}\n        <div className=\"mb-6 flex gap-2 flex-wrap\">\n          {(['All', 'High', 'Medium', 'Low', 'None'] as const).map((severity) => (\n            <button\n              key={severity}\n              onClick={() => setFilter(severity)}\n              className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n                filter === severity\n                  ? 'bg-blue-600 text-white'\n                  : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n              }`}\n            >\n              {severity}\n            </button>\n          ))}\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Analysis List */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"bg-gray-800/50 rounded-lg border border-gray-700 p-4\">\n              <h2 className=\"text-xl font-semibold mb-4\">\n                Analyses ({filteredAnalyses.length})\n              </h2>\n              \n              {filteredAnalyses.length === 0 ? (\n                <p className=\"text-gray-400 text-center py-8\">\n                  No analyses found. Upload a video to get started.\n                </p>\n              ) : (\n                <div className=\"space-y-3 max-h-[calc(100vh-300px)] overflow-y-auto\">\n                  {filteredAnalyses.map((analysis) => (\n                    <div\n                      key={analysis.id}\n                      onClick={() => setSelectedAnalysis(analysis)}\n                      className={`p-4 rounded-lg cursor-pointer transition-colors border ${\n                        selectedAnalysis?.id === analysis.id\n                          ? 'bg-blue-900/50 border-blue-500'\n                          : 'bg-gray-900/50 border-gray-700 hover:bg-gray-700/50'\n                      }`}\n                    >\n                      <div className=\"flex items-start justify-between mb-2\">\n                        <span className={`px-2 py-1 rounded text-xs font-semibold ${getSeverityColor(analysis.severity)}`}>\n                          {analysis.severity}\n                        </span>\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            handleDelete(analysis.id);\n                          }}\n                          className=\"text-red-400 hover:text-red-300 text-sm\"\n                        >\n                          Ã—\n                        </button>\n                      </div>\n                      <p className=\"text-sm font-medium truncate mb-1\">{analysis.filename}</p>\n                      <p className=\"text-xs text-gray-400\">{formatDate(analysis.timestamp)}</p>\n                      <p className=\"text-xs text-gray-500 mt-1\">Confidence: {analysis.confidence}%</p>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Analysis Details */}\n          <div className=\"lg:col-span-2\">\n            {selectedAnalysis ? (\n              <div className=\"bg-gray-800/50 rounded-lg border border-gray-700 p-6\">\n                <div className=\"flex items-start justify-between mb-6\">\n                  <div>\n                    <h2 className=\"text-2xl font-semibold mb-2\">{selectedAnalysis.filename}</h2>\n                    <p className=\"text-gray-400 text-sm\">{formatDate(selectedAnalysis.timestamp)}</p>\n                  </div>\n                  <div className=\"flex items-center gap-3\">\n                    <span className={`px-3 py-1 rounded-full text-white font-semibold ${getSeverityColor(selectedAnalysis.severity)}`}>\n                      {selectedAnalysis.severity}\n                    </span>\n                    <span className=\"text-sm text-gray-400\">Confidence: {selectedAnalysis.confidence}%</span>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n                  <div>\n                    <h3 className=\"text-lg font-medium mb-2\">Analysis Description</h3>\n                    <div className=\"bg-gray-900/50 p-4 rounded-lg text-gray-300 whitespace-pre-wrap\">\n                      {selectedAnalysis.description}\n                    </div>\n                  </div>\n\n                  <div>\n                    <h3 className=\"text-lg font-medium mb-2\">Recommendations</h3>\n                    <div className=\"bg-gray-900/50 p-4 rounded-lg text-gray-300 whitespace-pre-wrap\">\n                      {selectedAnalysis.recommendations}\n                    </div>\n                  </div>\n                </div>\n\n                {selectedAnalysis.videoUrl && (\n                  <div className=\"mb-6\">\n                    <h3 className=\"text-lg font-medium mb-2\">Video Footage</h3>\n                    <video\n                      src={selectedAnalysis.videoUrl}\n                      controls\n                      className=\"w-full rounded-lg\"\n                    >\n                      Your browser does not support video playback.\n                    </video>\n                  </div>\n                )}\n\n                <div className=\"grid grid-cols-3 gap-4 text-sm\">\n                  <div className=\"bg-gray-900/50 p-3 rounded-lg\">\n                    <p className=\"text-gray-400 mb-1\">File Size</p>\n                    <p className=\"font-medium\">{(selectedAnalysis.fileSize / (1024 * 1024)).toFixed(2)} MB</p>\n                  </div>\n                  <div className=\"bg-gray-900/50 p-3 rounded-lg\">\n                    <p className=\"text-gray-400 mb-1\">Video Type</p>\n                    <p className=\"font-medium\">{selectedAnalysis.videoType || 'Unknown'}</p>\n                  </div>\n                  <div className=\"bg-gray-900/50 p-3 rounded-lg\">\n                    <p className=\"text-gray-400 mb-1\">Analysis ID</p>\n                    <p className=\"font-medium text-xs truncate\">{selectedAnalysis.id}</p>\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <div className=\"bg-gray-800/50 rounded-lg border border-gray-700 p-12 text-center\">\n                <div className=\"text-6xl mb-4\">ðŸ“¹</div>\n                <p className=\"text-gray-400\">Select an analysis from the list to view details</p>\n              </div>\n            )}\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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"}}]
}